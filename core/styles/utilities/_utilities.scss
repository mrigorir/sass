/* ==========================================================================
   UTILITY CLASSES
   ========================================================================== */

@use "../variables";
@use "../colors";

@use "sass:math";
@use "sass:map";
@use "sass:meta";
@use "sass:string";

$utilities: (
  /**
 * Padding utilities
 */ "padding":
    (
      "prefix": "p",
      "values": (
        "0": 0,
        "1": variables.$base-padding,
        "2": variables.$base-padding * 2,
        "3": variables.$base-padding * 4,
        "4": variables.$base-padding * 6,
        "5": variables.$base-padding * 8,
      ),
    ),
  "padding-left": (
    "prefix": "pl",
    "values": (
      "0": 0,
      "1": variables.$base-padding,
      "2": variables.$base-padding * 2,
      "3": variables.$base-padding * 4,
      "4": variables.$base-padding * 6,
      "5": variables.$base-padding * 8,
    ),
  ),
  "padding-right": (
    "prefix": "pr",
    "values": (
      "0": 0,
      "1": variables.$base-padding,
      "2": variables.$base-padding * 2,
      "3": variables.$base-padding * 4,
      "4": variables.$base-padding * 6,
      "5": variables.$base-padding * 8,
    ),
  ),
  "padding-top": (
    "prefix": "pt",
    "values": (
      "0": 0,
      "1": variables.$base-padding,
      "2": variables.$base-padding * 2,
      "3": variables.$base-padding * 4,
      "4": variables.$base-padding * 6,
      "5": variables.$base-padding * 8,
    ),
  ),
  "padding-bottom": (
    "prefix": "pb",
    "values": (
      "0": 0,
      "1": variables.$base-padding,
      "2": variables.$base-padding * 2,
      "3": variables.$base-padding * 4,
      "4": variables.$base-padding * 6,
      "5": variables.$base-padding * 8,
    ),
  ),
  /**
 * Margin utilities
 */ "margin":
    (
      "prefix": "m",
      "values": (
        "0": 0,
        "1": variables.$base-margin,
        "2": variables.$base-margin * 2,
        "3": variables.$base-margin * 4,
        "4": variables.$base-margin * 6,
        "5": variables.$base-margin * 8,
        "auto": auto,
      ),
    ),
  "margin-right": (
    "prefix": "mr",
    "values": (
      "0": 0,
      "1": variables.$base-margin,
      "2": variables.$base-margin * 2,
      "3": variables.$base-margin * 4,
      "4": variables.$base-margin * 6,
      "5": variables.$base-margin * 8,
    ),
  ),
  "margin-left": (
    "prefix": "ml",
    "values": (
      "0": 0,
      "1": variables.$base-margin,
      "2": variables.$base-margin * 2,
      "3": variables.$base-margin * 4,
      "4": variables.$base-margin * 6,
      "5": variables.$base-margin * 8,
    ),
  ),
  "margin-top": (
    "prefix": "mt",
    "values": (
      "0": 0,
      "1": variables.$base-margin,
      "2": variables.$base-margin * 2,
      "3": variables.$base-margin * 4,
      "4": variables.$base-margin * 6,
      "5": variables.$base-margin * 8,
    ),
  ),

  "margin-bottom": (
    "prefix": "mb",
    "values": (
      "0": 0,
      "1": variables.$base-margin,
      "2": variables.$base-margin * 2,
      "3": variables.$base-margin * 4,
      "4": variables.$base-margin * 6,
      "5": variables.$base-margin * 8,
    ),
  ),
  /**
 * Opacity utilities
 */ "opacity":
    (
      "prefix": "opacity",
      "values": (
        "1": 0.1,
        "2": 0.2,
        "3": 0.3,
        "4": 0.4,
        "5": 0.5,
        "6": 0.6,
        "7": 0.7,
        "8": 0.8,
        "9": 0.9,
        "10": 1,
      ),
    ),
  /**
 * Display utilities
 */ "display":
    (
      "prefix": "d",
      "values": (
        "none": none,
        "block": block,
        "flex": flex,
        "inline": inline,
        "inline-block": inline-block,
        "inline-flex": inline-flex,
        "grid": grid,
      ),
    ),
  /**
 * Font utilities
 */ "font-size":
    (
      "prefix": "font",
      "values": (
        "sm": variables.$font-size-sm,
        "md": variables.$base-font-size,
        "lg": variables.$font-size-lg,
        "xl": variables.$font-size-xl,
        "xxl": variables.$font-size-xxl,
      ),
    ),
      /**
   * Flexbox Utilities
   */
  "flex-direction": (
    "prefix": "flex",
    "values": (
      "row": row,
      "row-reverse": row-reverse,
      "column": column,
      "column-reverse": column-reverse
    )
  ),
  
  "flex-wrap": (
    "prefix": "flex",
    "values": (
      "wrap": wrap,
      "nowrap": nowrap,
      "wrap-reverse": wrap-reverse
    )
  ),
  
  "justify-content": (
    "prefix": "justify",
    "values": (
      "start": flex-start,
      "end": flex-end,
      "center": center,
      "between": space-between,
      "around": space-around,
      "evenly": space-evenly
    )
  ),
  
  "align-items": (
    "prefix": "align",
    "values": (
      "start": flex-start,
      "end": flex-end,
      "center": center,
      "baseline": baseline,
      "stretch": stretch
    )
  ),
  
  "align-self": (
    "prefix": "self",
    "values": (
      "auto": auto,
      "start": flex-start,
      "end": flex-end,
      "center": center,
      "stretch": stretch,
      "baseline": baseline
    )
  ),
  
  "flex-grow": (
    "prefix": "flex-grow",
    "values": (
      "0": 0,
      "1": 1
    )
  ),
  
  "flex-shrink": (
    "prefix": "flex-shrink",
    "values": (
      "0": 0,
      "1": 1
    )
  ),

  /**
   * Grid Utilities
   */
  "grid-auto-flow": (
    "prefix": "grid-flow",
    "values": (
      "row": row,
      "col": column,
      "dense": dense
    )
  ),
  
  "gap": (
    "prefix": "gap",
    "values": (
      "0": 0,
      "1": 0.25rem,
      "2": 0.5rem,
      "3": 1rem,
      "4": 1.5rem,
      "5": 2rem
    )
  ),
  
  "grid-template-columns": (
    "prefix": "grid-cols",
    "values": (
      "1": repeat(1, minmax(0, 1fr)),
      "2": repeat(2, minmax(0, 1fr)),
      "3": repeat(3, minmax(0, 1fr)),
      "4": repeat(4, minmax(0, 1fr)),
      "5": repeat(5, minmax(0, 1fr)),
      "6": repeat(6, minmax(0, 1fr)),
      "12": repeat(12, minmax(0, 1fr))
    )
  ),
  
  "grid-column": (
    "prefix": "col",
    "values": (
      "auto": auto,
      "span-1": span 1,
      "span-2": span 2,
      "span-3": span 3,
      "span-4": span 4,
      "span-5": span 5,
      "span-6": span 6,
      "span-full": string.unquote("1 / -1"),
    )
  )
);

/**
 * Generate utility classes
 */
@each $property, $map in $utilities {
  $prefix: map.get($map, "prefix");
  $values: map.get($map, "values");

  @each $key, $value in $values {
    @if $key == "default" {
      .#{$prefix} {
        // Para propiedades con múltiples valores (como text-ellipsis)
        @if meta.type-of($value) == "map" {
          @each $sub-property, $sub-value in $value {
            #{$sub-property}: $sub-value;
          }
        } @else {
          #{$property}: $value;
        }
      }
    } @else {
      .#{$prefix}-#{$key} {
        // Para propiedades con múltiples valores
        @if meta.type-of($value) == "map" {
          @each $sub-property, $sub-value in $value {
            #{$sub-property}: $sub-value;
          }
        } @else {
          #{$property}: $value;
        }
      }
    }
  }
}
